<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<img src="assets/images/pic3_person.png" width="293" id="man" height="182" alt=""/>
<canvas id="canvas" width="500" height="500"></canvas>
<style>
    body {
        background: #000000;
    }

    canvas {
        background: #ffffff;
    }

    input {
        background: #ffffff;
    }
</style>
<script>
    //1.球体对象
    function Person(speed) {
        //颜色值选项

        this.x = 0;
        this.y = 0;
       this.speed=0.5;
        this.vx = 0;
        this.vy = 0;

    }
    //画布方法
    Person.prototype.draw = function (context) {
        context.save();

        context.translate(this.x, this.y);

        context.beginPath();
        context.drawImage(img,-img.width/2,-img.height/2);
        context.closePath();
        context.fill();
        context.restore();
    };


    var canvas = document.getElementById('canvas'),
            context = canvas.getContext('2d');
    var img=document.getElementById('man');
    img.onload=function(){


        personPlay();


    }
function personPlay(){




        var person1 = new Person();

         var walk=0.5;
           var angle=30*0.017453293;
             person1.y=canvas.height;

    var w = canvas.width;
    var h = canvas.height;




    //3.动画的无限回调
    (function drawFrame() {
        window.requestAnimationFrame(drawFrame, canvas);
        context.clearRect(0, 0, canvas.width, canvas.height);
       //angle+= 5;
        walk+=0.2;
        person1.x =person1.x+walk;
        person1.y = Math.ceil(h-Math.tan(angle)*person1.x);

        if(person1.x==w){
            person1.x = 0;
            person1.y = h;

        }
    person1.draw(context);

    }());}
</script>

</body>
</html>
